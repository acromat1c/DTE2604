{% extends "base.html" %}

{% block title %}Mission {{ nameCourse }} - {{ nameModule }} - {{ nameMission }}{% endblock %}

{% block content %}

<h1>MISSION {{ nameCourse }} - {{ nameModule }} - {{ nameMission }}</h1>

<!-- Navigation -->
<a href="{% url "programing_course_app:course" nameCourse=nameCourse %}"><button>COURSE</button></a>
<a href="{% url "programing_course_app:module" nameCourse=nameCourse nameModule=nameModule %}"><button>MODULE</button></a>

{% if not mission %}
  <p>Mission not found.</p>
{% else %}
  <h2>{{ mission.name }}</h2>
  <p>{{ mission.description }}</p>
  <pre>{{ mission.text }}</pre>

  <form method="post">
    {% csrf_token %}
    <label for="answer">Your Answer:</label>
    <input type="text" name="answer" class="form-control">
    <button type="submit">Submit</button>
    <p>Max points: {{ mission.maxPoints }}</p>
  </form>

  {% if userAnswer %}
    <p>Your previous answer: {{ userAnswer.answer }}</p>
    <p>Points awarded: {{ userAnswer.points }}</p>
  {% endif %}

  {% if result %}
    <p style="color: {% if 'Correct' in result %}green{% else %}red{% endif %};">
      <strong>{{ result }}</strong>
    </p>
  {% endif %}
{% endif %}

{% endblock %}
